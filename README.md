# Создание заглушек для автоматизированных тестов на C#

Этот инструмент предназначен для иметации ответов HTTP серверов во время тествирование. 
Т.е. если Вам необходимо иметировать ответы от связанных систем, то Вы можете поднять локально сервер, создав следующий экземпляр:

```C#
IFakeServer MyFakeServer = new FakeHttpServer("http://localhost:3000/");
```

В этот момент запустится HttpAsyncServer слушающий соответствующий адрес.

### Настройка ожидаемых ответов и запросов для сервера:

```C#
MyFakeServer.ShouldRecived().Post("ожидаемое тело запроса").Response("тело отклика");
```

Теперь сервер на HTTP запрос методом POST и содержанием "ожидаемое тело запроса" ответит: "тело отклика" (единожды). 

### Проверка пришедших запросов.

```C#
MyFakeServer.CheckAllReciverConditional();
```

Если хотябы один запрос небыл получен, будет проброшено исключение, по сердствам Assert.Fail("Some reciver conditionals are not met.") из Microsoft.VisualStudio.TestTools.UnitTesting;

Для посмотра актульного списка, пришедших запрос, Вы можете воспользоваться методом "GetReciveHistory":

```C# 
string[] actualRequests = MyFakeServer.GetReciveHistory();
```

## Подробнее
Предусмотренна возможность регламентировать загаловки отета.

Также есть возможность сравнивать XML запросы учитывая разные предстовления и предусмотрен вариант настройки игнорирование значений узлов.
